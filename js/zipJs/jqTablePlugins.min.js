$(function(){var a=["fa-plus-square-o","fa-minus-square-o"];var c=$("body");c.on("click",".g-toggleTable--button",function(d){var i=$(this).parents(".g-toggleTable--title");var f=i.parents(".g-toggleTable--main");var j=f.find(".g-toggleTable--title");var g=f.find("tr");var e=g.index(i);var k=g.length;var h=j.eq(j.index(i)+1);var l=f.data("level");if(l){e=e+1}if(h.length){k=g.index(h)}$.each(f.find("tr"),function(m,n){if(m>e&&m<k){$(n).toggleClass("hide")}});i.find("i.fa").toggleClass(a.join(" "));b(f)});function b(i){var g=i.find(".g-toggleTable--title");var e=i.find(".g-toggleTable--buttonAll");var d=i.find(".g-toggleTable--button."+a[0]).length;var f=i.find(".g-toggleTable--button."+a[1]).length;var h=g.length-1;if(f===h){e.removeClass(a.join(" ")).addClass(a[1])}if(d===h){e.removeClass(a.join(" ")).addClass(a[0])}}c.on("click",".g-toggleTable--buttonAll",function(){var g=$(this);var d=g.hasClass(a[0]);var f=g.parents(".g-toggleTable--main").find(".c-table__child");var e=g.parents(".g-toggleTable--main").find(".g-toggleTable--title .g-toggleTable--button");e.removeClass(a.join(" "));g.removeClass(a.join(" "));if(d){f.removeClass("hide");e.addClass(a[1]);g.addClass(a[1])}else{f.addClass("hide");e.addClass(a[0]);g.addClass(a[0])}})});$(function(){var b=$("body");b.on("change",".g-selectAll",function(c){$(this).parents(".g-selectAll--main").find(".g-selectAll--input").prop("checked",this.checked)});b.on("change",".g-selectAll--input",function(f){var c=$(this).parents(".g-selectAll--main");var e=c.find(".g-selectAll--input").not(".g-selectAll").length;var d=c.find(".g-selectAll--input:checked").not(".g-selectAll").length;if(d===e){c.find(".g-selectAll").prop("checked",true);return}c.find(".g-selectAll").prop("checked",false)});b.on("click",".g-selectAll--btn",function(c){c.preventDefault();a($(this))});function a(c){var g=c.data("destory");var d=c.parents(".g-selectAll--main");var e=d.find(".g-selectAll--input:checked").not(".g-selectAll");var h=[];var j=c.data("text")||"请先选择";var k=c.data("tag")||"";var f={};var i=[];if(!g&&!e.length){$.message({type:"error",message:j,});return false}$.each(e,function(l,m){h.push($(m).data("value"));i.push($(m).val())});f={ele:c,checked:e,checkedArr:h,value:i};$.pub("GSelectAllSuccess"+k,[f])}});var jqTableObject=$({});$.sub=function(){jqTableObject.on.apply(jqTableObject,arguments)};$.unsub=function(){jqTableObject.off.apply(jqTableObject,arguments)};$.pub=function(){jqTableObject.trigger.apply(jqTableObject,arguments)};